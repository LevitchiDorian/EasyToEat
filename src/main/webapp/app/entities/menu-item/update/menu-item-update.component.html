<div class="d-flex justify-content-center">
  <div class="col-8">
    <form name="editForm" novalidate (ngSubmit)="save()" [formGroup]="editForm">
      <h2 id="jhi-menu-item-heading" data-cy="MenuItemCreateUpdateHeading" jhiTranslate="restaurantApp.menuItem.home.createOrEditLabel">
        Create or edit a Menu Item
      </h2>

      <div>
        <jhi-alert-error />

        @if (editForm.controls.id.value !== null) {
          <div class="mb-3">
            <label class="form-label" for="field_id" jhiTranslate="restaurantApp.menuItem.id">ID</label>
            <input type="number" class="form-control" name="id" id="field_id" data-cy="id" formControlName="id" [readonly]="true" />
          </div>
        }

        @let nameRef = editForm.get('name')!;
        <div class="mb-3">
          <label class="form-label" for="field_name" jhiTranslate="restaurantApp.menuItem.name">Name</label>
          <input type="text" class="form-control" name="name" id="field_name" data-cy="name" formControlName="name" />
          @if (nameRef.invalid && (nameRef.dirty || nameRef.touched)) {
            <div>
              @if (editForm.get('name')?.errors?.required) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.required">This field is required.</small>
              }
              @if (editForm.get('name')?.errors?.minlength) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.minlength" [translateValues]="{ min: '2' }"
                  >This field is required to be at least 2 characters.</small
                >
              }
              @if (editForm.get('name')?.errors?.maxlength) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: '150' }"
                  >This field cannot be longer than 150 characters.</small
                >
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_description" jhiTranslate="restaurantApp.menuItem.description">Description</label>
          <textarea
            class="form-control"
            name="description"
            id="field_description"
            data-cy="description"
            formControlName="description"
          ></textarea>
        </div>

        @let priceRef = editForm.get('price')!;
        <div class="mb-3">
          <label class="form-label" for="field_price" jhiTranslate="restaurantApp.menuItem.price">Price</label>
          <input type="number" class="form-control" name="price" id="field_price" data-cy="price" formControlName="price" />
          @if (priceRef.invalid && (priceRef.dirty || priceRef.touched)) {
            <div>
              @if (editForm.get('price')?.errors?.required) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.required">This field is required.</small>
              }
              @if (editForm.get('price')?.errors?.min) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.min" [translateValues]="{ min: '0' }"
                  >This field should be at least 0.</small
                >
              }
              <small class="form-text text-danger" [hidden]="!editForm.get('price')?.errors?.number" jhiTranslate="entity.validation.number"
                >This field should be a number.</small
              >
            </div>
          }
        </div>

        @let discountedPriceRef = editForm.get('discountedPrice')!;
        <div class="mb-3">
          <label class="form-label" for="field_discountedPrice" jhiTranslate="restaurantApp.menuItem.discountedPrice"
            >Discounted Price</label
          >
          <input
            type="number"
            class="form-control"
            name="discountedPrice"
            id="field_discountedPrice"
            data-cy="discountedPrice"
            formControlName="discountedPrice"
          />
          @if (discountedPriceRef.invalid && (discountedPriceRef.dirty || discountedPriceRef.touched)) {
            <div>
              @if (editForm.get('discountedPrice')?.errors?.min) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.min" [translateValues]="{ min: '0' }"
                  >This field should be at least 0.</small
                >
              }
              <small
                class="form-text text-danger"
                [hidden]="!editForm.get('discountedPrice')?.errors?.number"
                jhiTranslate="entity.validation.number"
                >This field should be a number.</small
              >
            </div>
          }
        </div>

        @let preparationTimeMinutesRef = editForm.get('preparationTimeMinutes')!;
        <div class="mb-3">
          <label class="form-label" for="field_preparationTimeMinutes" jhiTranslate="restaurantApp.menuItem.preparationTimeMinutes"
            >Preparation Time Minutes</label
          >
          <input
            type="number"
            class="form-control"
            name="preparationTimeMinutes"
            id="field_preparationTimeMinutes"
            data-cy="preparationTimeMinutes"
            formControlName="preparationTimeMinutes"
          />
          @if (preparationTimeMinutesRef.invalid && (preparationTimeMinutesRef.dirty || preparationTimeMinutesRef.touched)) {
            <div>
              @if (editForm.get('preparationTimeMinutes')?.errors?.min) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.min" [translateValues]="{ min: '0' }"
                  >This field should be at least 0.</small
                >
              }
              @if (editForm.get('preparationTimeMinutes')?.errors?.max) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.max" [translateValues]="{ max: '180' }"
                  >This field cannot be more than 180.</small
                >
              }
              <small
                class="form-text text-danger"
                [hidden]="!editForm.get('preparationTimeMinutes')?.errors?.number"
                jhiTranslate="entity.validation.number"
                >This field should be a number.</small
              >
            </div>
          }
        </div>

        @let caloriesRef = editForm.get('calories')!;
        <div class="mb-3">
          <label class="form-label" for="field_calories" jhiTranslate="restaurantApp.menuItem.calories">Calories</label>
          <input type="number" class="form-control" name="calories" id="field_calories" data-cy="calories" formControlName="calories" />
          @if (caloriesRef.invalid && (caloriesRef.dirty || caloriesRef.touched)) {
            <div>
              @if (editForm.get('calories')?.errors?.min) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.min" [translateValues]="{ min: '0' }"
                  >This field should be at least 0.</small
                >
              }
              <small
                class="form-text text-danger"
                [hidden]="!editForm.get('calories')?.errors?.number"
                jhiTranslate="entity.validation.number"
                >This field should be a number.</small
              >
            </div>
          }
        </div>

        @let imageUrlRef = editForm.get('imageUrl')!;
        <div class="mb-3">
          <label class="form-label" for="field_imageUrl" jhiTranslate="restaurantApp.menuItem.imageUrl">Image Url</label>
          <input type="text" class="form-control" name="imageUrl" id="field_imageUrl" data-cy="imageUrl" formControlName="imageUrl" />
          @if (imageUrlRef.invalid && (imageUrlRef.dirty || imageUrlRef.touched)) {
            <div>
              @if (editForm.get('imageUrl')?.errors?.maxlength) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.maxlength" [translateValues]="{ max: '500' }"
                  >This field cannot be longer than 500 characters.</small
                >
              }
            </div>
          }
        </div>

        @let isAvailableRef = editForm.get('isAvailable')!;
        <div class="mb-3">
          <label class="form-label" for="field_isAvailable" jhiTranslate="restaurantApp.menuItem.isAvailable">Is Available</label>
          <input
            type="checkbox"
            class="form-check"
            name="isAvailable"
            id="field_isAvailable"
            data-cy="isAvailable"
            formControlName="isAvailable"
          />
          @if (isAvailableRef.invalid && (isAvailableRef.dirty || isAvailableRef.touched)) {
            <div>
              @if (editForm.get('isAvailable')?.errors?.required) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.required">This field is required.</small>
              }
            </div>
          }
        </div>

        @let isFeaturedRef = editForm.get('isFeatured')!;
        <div class="mb-3">
          <label class="form-label" for="field_isFeatured" jhiTranslate="restaurantApp.menuItem.isFeatured">Is Featured</label>
          <input
            type="checkbox"
            class="form-check"
            name="isFeatured"
            id="field_isFeatured"
            data-cy="isFeatured"
            formControlName="isFeatured"
          />
          @if (isFeaturedRef.invalid && (isFeaturedRef.dirty || isFeaturedRef.touched)) {
            <div>
              @if (editForm.get('isFeatured')?.errors?.required) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.required">This field is required.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_isVegetarian" jhiTranslate="restaurantApp.menuItem.isVegetarian">Is Vegetarian</label>
          <input
            type="checkbox"
            class="form-check"
            name="isVegetarian"
            id="field_isVegetarian"
            data-cy="isVegetarian"
            formControlName="isVegetarian"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_isVegan" jhiTranslate="restaurantApp.menuItem.isVegan">Is Vegan</label>
          <input type="checkbox" class="form-check" name="isVegan" id="field_isVegan" data-cy="isVegan" formControlName="isVegan" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_isGlutenFree" jhiTranslate="restaurantApp.menuItem.isGlutenFree">Is Gluten Free</label>
          <input
            type="checkbox"
            class="form-check"
            name="isGlutenFree"
            id="field_isGlutenFree"
            data-cy="isGlutenFree"
            formControlName="isGlutenFree"
          />
        </div>

        @let spicyLevelRef = editForm.get('spicyLevel')!;
        <div class="mb-3">
          <label class="form-label" for="field_spicyLevel" jhiTranslate="restaurantApp.menuItem.spicyLevel">Spicy Level</label>
          <input
            type="number"
            class="form-control"
            name="spicyLevel"
            id="field_spicyLevel"
            data-cy="spicyLevel"
            formControlName="spicyLevel"
          />
          @if (spicyLevelRef.invalid && (spicyLevelRef.dirty || spicyLevelRef.touched)) {
            <div>
              @if (editForm.get('spicyLevel')?.errors?.min) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.min" [translateValues]="{ min: '0' }"
                  >This field should be at least 0.</small
                >
              }
              @if (editForm.get('spicyLevel')?.errors?.max) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.max" [translateValues]="{ max: '3' }"
                  >This field cannot be more than 3.</small
                >
              }
              <small
                class="form-text text-danger"
                [hidden]="!editForm.get('spicyLevel')?.errors?.number"
                jhiTranslate="entity.validation.number"
                >This field should be a number.</small
              >
            </div>
          }
        </div>

        @let displayOrderRef = editForm.get('displayOrder')!;
        <div class="mb-3">
          <label class="form-label" for="field_displayOrder" jhiTranslate="restaurantApp.menuItem.displayOrder">Display Order</label>
          <input
            type="number"
            class="form-control"
            name="displayOrder"
            id="field_displayOrder"
            data-cy="displayOrder"
            formControlName="displayOrder"
          />
          @if (displayOrderRef.invalid && (displayOrderRef.dirty || displayOrderRef.touched)) {
            <div>
              @if (editForm.get('displayOrder')?.errors?.required) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.required">This field is required.</small>
              }
              @if (editForm.get('displayOrder')?.errors?.min) {
                <small class="form-text text-danger" jhiTranslate="entity.validation.min" [translateValues]="{ min: '0' }"
                  >This field should be at least 0.</small
                >
              }
              <small
                class="form-text text-danger"
                [hidden]="!editForm.get('displayOrder')?.errors?.number"
                jhiTranslate="entity.validation.number"
                >This field should be a number.</small
              >
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_category" jhiTranslate="restaurantApp.menuItem.category">Category</label>
          <select
            class="form-control"
            id="field_category"
            data-cy="category"
            name="category"
            formControlName="category"
            [compareWith]="compareMenuCategory"
          >
            @if (editForm.get(['category'])!.value === null) {
              <option [ngValue]="null" selected></option>
            }
            @for (menuCategoryOption of menuCategoriesSharedCollection; track $index) {
              <option [ngValue]="menuCategoryOption">{{ menuCategoryOption.name }}</option>
            }
          </select>
        </div>
        @if (editForm.get(['category'])!.invalid && (editForm.get(['category'])!.dirty || editForm.get(['category'])!.touched)) {
          <div>
            @if (editForm.get(['category'])?.errors?.required) {
              <small class="form-text text-danger" jhiTranslate="entity.validation.required">This field is required.</small>
            }
          </div>
        }
      </div>

      <div>
        <button type="button" id="cancel-save" data-cy="entityCreateCancelButton" class="btn btn-secondary" (click)="previousState()">
          <fa-icon icon="ban"></fa-icon>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
        </button>

        <button
          type="submit"
          id="save-entity"
          data-cy="entityCreateSaveButton"
          [disabled]="editForm.invalid || isSaving"
          class="btn btn-primary"
        >
          <fa-icon icon="save"></fa-icon>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
        </button>
      </div>
    </form>
  </div>
</div>
